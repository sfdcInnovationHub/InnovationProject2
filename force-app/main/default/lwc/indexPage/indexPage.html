<template>
  
    <lightning-card>
          <table>
            <thead>
              <tr>
                <th>Number</th>
                <th>Description</th>
                <th>Category</th>
                <th>DownLoad Count</th>
                <th></th>
                <th></th>
              </tr>
            </thead>
            <tbody>
              <template for:each={indexData} for:item="record">
                <tr key={record.Id}>
                  <td>{indexNumber}</td>
                  <td>{record.Discription__c}</td>
                  <td>{record.Category__c}</td>
                  
                  <td>
                  <div class="container">
                      <lightning-icon icon-name="action:preview" alternative-text="Preview" title="Preview" size="small"></lightning-icon>
                      <span class="count">
                        <c-view-downlad-count 
                          record-id ={record.Id} ></c-view-downlad-count>
                      </span>
                  </div>
                  </td>
                  <td>
                    <template lwc:if={record.Run__c}> 
                      <lightning-button 
                        label="Run" 
                        onclick={handleRunClick}
                        data-row-id={record.Category__c}
                        data-row-id1={record.Run__c}
                        data-row-id2={record.RunURL__c}
                        data-row-id3={record.actionName__c}
                        data-row-id4={record.apiName__c}
                        data-row-id5={record.objectApiName__c}
                        data-row-id6={record.type__c}
                        >
                      </lightning-button>
                    </template>
                  </td>
                  <td>
                    <template lwc:if={record.DownloadURL__c}>
                      <lightning-button 
                        label="Download" 
                        onclick={handleDownloadClick}
                        data-row-id={record.DownloadURL__c}
                        data-row-id1={record.Id}
                        >
                      </lightning-button>
                    </template>
                  </td>
                 
                </tr>
              </template>
            </tbody>
          </table>
        </lightning-card>
    </template>